function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){o[e]=n},n.parcelRequired7c6=a);var r=a("iQIUW"),s=a("fZKcF"),i=a("iJYdK"),l=a("2shzp");class c{fetchPhotosByQuery(){const e={params:{q:this.q,page:this.page,per_page:this.per_page,image_type:"photo",orientation:"horisontal",safesearch:!0}};return l.default.get(`${c.BASIC_URL}?key=${c.API_KEY}`,e)}constructor(){this.q=null,this.page=null,this.per_page=10}}function d(e){return e.map((e=>`\n  <a class ="photo-link" href="${e.webformatURL}">\n    <div class="photo-card">\n      <img src="${e.largeImageURL}" alt="${e.tags}" loading="lazy" />\n      <div class="info">\n        <p class="info-item">\n          <b>Likes</b>${e.likes}\n        </p>\n        <p class="info-item">\n          <b>Views</b>${e.views}\n        </p>\n        <p class="info-item">\n          <b>Comments</b>${e.comments}\n        </p>\n        <p class="info-item">\n          <b>Downloads</b>${e.downloads}\n        </p>\n      </div>\n    </div>\n  </a>\n`)).join("")}e(i)(c,"BASIC_URL","https://pixabay.com/api/"),e(i)(c,"API_KEY","33069877-56d6b4be23d42e6d3f03db65c"),console.log(c);const u=document.querySelector(".search-form"),f=document.querySelector(".gallery"),p=new c;u.addEventListener("submit",(async function(n){n.preventDefault(),p.q=n.target.elements.searchQuery.value,p.page=1;try{const t=await p.fetchPhotosByQuery(),{data:o}=t;if(0===o.hits.length)return r.Notify.failure("Sorry, there are no images matching your search query. Please try again."),n.target.reset(),void(f.innerHTML="");r.Notify.success(`Hooray! We found ${o.totalHits} images.`),f.innerHTML=d(o.hits),new(e(s))(".gallery a")}catch(e){console.log(e)}})),window.addEventListener("scroll",(async function(n){if(window.scrollY+window.innerHeight>=document.documentElement.scrollHeight){p.page+=1;try{const n=await p.fetchPhotosByQuery(),{data:t}=n;t.totalHits-p.per_page*p.page<=0&&r.Notify.warning("We're sorry, but you've reached the end of search results."),f.insertAdjacentHTML("beforeend",d(t.hits)),new(e(s))(".gallery a").refresh()}catch(e){console.log(e)}}}));
//# sourceMappingURL=infinite-scroll.fca6e6fc.js.map
