!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),s=a("h6c0i"),c=a("5IjG7"),l=a("8MBJY"),u=a("a2hTj"),p=a("hKHmD"),f=a("dIxxU"),d=function(){"use strict";function n(){e(l)(this,n),this.q=null,this.page=null,this.per_page=10}return e(u)(n,[{key:"fetchPhotosByQuery",value:function(){var e={params:{q:this.q,page:this.page,per_page:this.per_page,image_type:"photo",orientation:"horisontal",safesearch:!0}};return f.default.get("".concat(n.BASIC_URL,"?key=").concat(n.API_KEY),e)}}]),n}();function h(e){return e.map((function(e){return'\n  <a class ="photo-link" href="'.concat(e.webformatURL,'">\n    <div class="photo-card">\n      <img src="').concat(e.largeImageURL,'" alt="').concat(e.tags,'" loading="lazy" />\n      <div class="info">\n        <p class="info-item">\n          <b>Likes</b>').concat(e.likes,'\n        </p>\n        <p class="info-item">\n          <b>Views</b>').concat(e.views,'\n        </p>\n        <p class="info-item">\n          <b>Comments</b>').concat(e.comments,'\n        </p>\n        <p class="info-item">\n          <b>Downloads</b>').concat(e.downloads,"\n        </p>\n      </div>\n    </div>\n  </a>\n")})).join("")}e(p)(d,"BASIC_URL","https://pixabay.com/api/"),e(p)(d,"API_KEY","33069877-56d6b4be23d42e6d3f03db65c"),console.log(d);var g=document.querySelector(".search-form"),y=document.querySelector(".gallery"),m=new d;function v(){return(v=e(o)(e(i).mark((function n(t){var r,a;return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),m.q=t.target.elements.searchQuery.value,m.page=1,n.prev=3,n.next=6,m.fetchPhotosByQuery();case 6:if(r=n.sent,0!==(a=r.data).hits.length){n.next=13;break}return s.Notify.failure("Sorry, there are no images matching your search query. Please try again."),t.target.reset(),y.innerHTML="",n.abrupt("return");case 13:s.Notify.success("Hooray! We found ".concat(a.totalHits," images.")),y.innerHTML=h(a.hits),new(e(c))(".gallery a"),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(3),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[3,18]])})))).apply(this,arguments)}function b(){return(b=e(o)(e(i).mark((function n(t){var r,a;return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(window.scrollY+window.innerHeight>=document.documentElement.scrollHeight)){n.next=15;break}return m.page+=1,n.prev=2,n.next=5,m.fetchPhotosByQuery();case 5:r=n.sent,(a=r.data).totalHits-m.per_page*m.page<=0&&s.Notify.warning("We're sorry, but you've reached the end of search results."),y.insertAdjacentHTML("beforeend",h(a.hits)),new(e(c))(".gallery a").refresh(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})))).apply(this,arguments)}g.addEventListener("submit",(function(e){return v.apply(this,arguments)})),window.addEventListener("scroll",(function(e){return b.apply(this,arguments)}))}();
//# sourceMappingURL=infinite-scroll.ed758862.js.map
